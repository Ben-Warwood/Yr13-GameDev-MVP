[gd_scene load_steps=13 format=3 uid="uid://1op2bjwbpx2y"]

[ext_resource type="PackedScene" uid="uid://cvaxaqi8knxlq" path="res://scenes/Player.tscn" id="1"]
[ext_resource type="Script" path="res://scripts/Main.gd" id="1_byfi0"]
[ext_resource type="Material" uid="uid://3w8vh5b2wjbd" path="res://data/materials/kuwahara.tres" id="2_2aoda"]
[ext_resource type="PackedScene" path="res://scenes/door.tscn" id="9"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_y3q03"]
sky_top_color = Color(0.305882, 0.466667, 0.607843, 1)
sky_horizon_color = Color(0.647059, 0.654902, 0.670588, 1)

[sub_resource type="Sky" id="Sky_2eb3u"]
sky_material = SubResource("ProceduralSkyMaterial_y3q03")

[sub_resource type="Environment" id="Environment_m6h1h"]
background_mode = 2
sky = SubResource("Sky_2eb3u")
ambient_light_source = 3
reflected_light_source = 2
tonemap_mode = 2
tonemap_exposure = 0.66
glow_strength = 0.49

[sub_resource type="AnimationNodeStateMachinePlayback" id="17"]

[sub_resource type="BoxMesh" id="BoxMesh_pp13f"]
size = Vector3(1, 26, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_8c7kd"]
size = Vector3(1, 26, 1)

[sub_resource type="BoxMesh" id="BoxMesh_r46b3"]
size = Vector3(50, 1, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_oc30b"]
size = Vector3(50, 1, 50)

[node name="Main" type="Node"]
script = ExtResource("1_byfi0")

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
material = ExtResource("2_2aoda")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Level" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.01988, 1.19046, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="Level"]
environment = SubResource("Environment_m6h1h")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Level"]
transform = Transform3D(-0.700976, -0.0568707, 0.710914, 0.136635, 0.967642, 0.212133, -0.699974, 0.245836, -0.670523, 0, 13.9173, 0)
shadow_enabled = true

[node name="Door2" parent="Level" instance=ExtResource("9")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -19.7405)

[node name="Skeleton3D" parent="Level/Door2/Door/open_door/Door_object" index="0"]
bones/0/rotation = Quaternion(-2.49101e-08, -2.49101e-08, -0.707107, 0.707107)
bones/1/rotation = Quaternion(0.706016, 0.706016, -0.0392589, -0.0392588)

[node name="AnimationTree" parent="Level/Door2/Door" index="2"]
parameters/playback = SubResource("17")

[node name="StaticBody3D" type="StaticBody3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 0.258819, -0.965926, 0, 0.965926, 0.258819, 0, -0.400371, 2.76531)

[node name="Ramp" type="MeshInstance3D" parent="Level/StaticBody3D"]
mesh = SubResource("BoxMesh_pp13f")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/StaticBody3D"]
shape = SubResource("BoxShape3D_8c7kd")

[node name="StaticBody3D2" type="StaticBody3D" parent="Level"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.617679, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Level/StaticBody3D2"]
mesh = SubResource("BoxMesh_r46b3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/StaticBody3D2"]
shape = SubResource("BoxShape3D_oc30b")

[node name="Player" parent="." instance=ExtResource("1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.01988, 50.9292, 0)

[connection signal="interacted" from="Level/Door2/Door" to="Level/Door2" method="_on_Door_interacted"]

[editable path="Level/Door2"]
[editable path="Level/Door2/Door/open_door"]
