[gd_scene load_steps=12 format=2]

[ext_resource path="res://scripts/Door.gd" type="Script" id=1]
[ext_resource path="res://scripts/Interactable.gd" type="Script" id=2]
[ext_resource path="res://data/objects/open_door.gltf" type="PackedScene" id=3]

[sub_resource type="Animation" id=2]
resource_name = "closed door"

[sub_resource type="BoxShape3D" id=1]
size = Vector3( 1.216, 0.579882, 0.031159 )

[sub_resource type="AnimationNodeAnimation" id=3]
animation = "Closed_door"

[sub_resource type="AnimationNodeAnimation" id=4]
animation = "Opening_door"

[sub_resource type="AnimationNodeStateMachineTransition" id=5]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=6]

[sub_resource type="AnimationNodeStateMachine" id=7]
states/Closed_door/node = SubResource( 3 )
states/Closed_door/position = Vector2( 694, 119 )
states/Opening_door/node = SubResource( 4 )
states/Opening_door/position = Vector2( 371, 119 )
transitions = [ "Opening_door", "Closed_door", SubResource( 5 ), "Closed_door", "Opening_door", SubResource( 6 ) ]
start_node = "Closed_door"

[sub_resource type="AnimationNodeStateMachinePlayback" id=8]

[node name="Door" type="Node3D"]
transform = Transform3D( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0363925, 0 )
script = ExtResource( 1 )

[node name="Door" type="StaticBody3D" parent="."]
script = ExtResource( 2 )
prompt_message = "Open Door"

[node name="open_door" parent="Door" instance=ExtResource( 3 )]
transform = Transform3D( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.100504, 0 )

[node name="AnimationPlayer" parent="Door/open_door" index="1"]
"anims/closed door" = SubResource( 2 )

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door"]
transform = Transform3D( 1.78814e-07, 1, 1.16414e-09, -1, 1.78814e-07, 7.04563e-08, 7.04563e-08, 3.55271e-15, 1, 0.122587, 1.22152, 0.998676 )
shape = SubResource( 1 )

[node name="AnimationTree" type="AnimationTree" parent="Door"]
tree_root = SubResource( 7 )
anim_player = NodePath("../open_door/AnimationPlayer")
active = true
parameters/playback = SubResource( 8 )

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0115169, 0, 0.0802548 )

[editable path="Door/open_door"]
